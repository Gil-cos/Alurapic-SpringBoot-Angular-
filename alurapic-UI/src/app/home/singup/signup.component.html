<mat-card>
    <mat-card-title fxLayoutAlign="center center">Register to embrace a new world!</mat-card-title>
    <mat-card-content>

        <form #form="ngForm" [formGroup]="signupForm" class="form mt-4">
            <div class="form-group">
                <mat-form-field>
                    <input matInput #emailInput
                    placeholder="Email" 
                    formControlName="email"
                    autofocus>
                </mat-form-field>
                <ap-vmessage 
                    *ngIf="signupForm.get('email').errors?.required && (form.submitted || signupForm.get('email').touched)"
                    text="Email is required!">
                </ap-vmessage>
                <ap-vmessage 
                    *ngIf="signupForm.get('email').errors?.email && (form.submitted || signupForm.get('email').touched)"
                    text="Invalid e-mail">
                </ap-vmessage>            
            </div>

            <div class="form-group">
                <mat-form-field>
                    <input matInput
                    placeholder="Full Name" 
                    formControlName="fullName">
                </mat-form-field>
                <ap-vmessage 
                    *ngIf="signupForm.get('fullName').errors?.required && (form.submitted || signupForm.get('fullName').touched)"
                    text="Full name is required!">
                </ap-vmessage>
                <ap-vmessage 
                    *ngIf="signupForm.get('fullName').errors?.minlength && (form.submitted || signupForm.get('fullName').touched)"
                    text="Mininum length is 2">
                </ap-vmessage>
                <ap-vmessage 
                    *ngIf="signupForm.get('fullName').errors?.maxlength && (form.submitted || signupForm.get('fullName').touched)"
                    text="Maximun length is 40">
                </ap-vmessage>              
            </div>

            <div class="form-group">
                <mat-form-field>
                    <input matInput
                    placeholder="User Name" 
                    formControlName="userName">
                </mat-form-field>
                <ap-vmessage 
                    *ngIf="signupForm.get('userName').errors?.required&& (form.submitted || signupForm.get('userName').touched)"
                    text="User name is required!">
                </ap-vmessage>
                <ap-vmessage 
                    *ngIf="signupForm.get('userName').errors?.minlength && (form.submitted || signupForm.get('userName').touched)"
                    text="Mininum length is 2">
                </ap-vmessage>
                <ap-vmessage 
                    *ngIf="signupForm.get('userName').errors?.maxlength && (form.submitted || signupForm.get('userName').touched)"
                    text="Maximun length is 30">
                </ap-vmessage>
                <ap-vmessage 
                    *ngIf="signupForm.get('userName').errors?.lowerCase && (form.submitted || signupForm.get('userName').touched)"
                    text="Must be lower case">
                </ap-vmessage>

                <ap-vmessage 
                    text="Username already taken" 
                    *ngIf="signupForm.get('userName').errors?.userNameTaken">
                </ap-vmessage> 
                <small *ngIf="signupForm.get('userName').valid" class="text-success"> User available</small>
            </div>

            <div class="form-group">
                <mat-form-field>
                    <input matInput
                    placeholder="Password" 
                    type="password"
                    formControlName="password">
                </mat-form-field>
                <ap-vmessage 
                    *ngIf="signupForm.get('password').errors?.required && (form.submitted || signupForm.get('password').touched)"
                    text="Password is required!">
                </ap-vmessage>
                <ap-vmessage 
                    *ngIf="signupForm.get('password').errors?.minlength && (form.submitted || signupForm.get('password').touched)"
                    text="Mininum length is 8">
                </ap-vmessage>
                <ap-vmessage 
                    *ngIf="signupForm.get('password').errors?.maxlength && (form.submitted || signupForm.get('password').touched)"
                    text="Maximun length is 18">
                </ap-vmessage>

                <ap-vmessage 
                    *ngIf="signupForm.errors?.userNamePassword && form.submitted"
                    text="Username and password must be different">
                </ap-vmessage>

            </div>   

        </form>

    </mat-card-content>

    <mat-card-actions align="center">

        <button mat-raised-button color="primary"
            (click)="signup()">
            Register
        </button>
    
    </mat-card-actions>

    <p>Already a user? <a [routerLink]="['']">Sign In!</a></p>

</mat-card>
